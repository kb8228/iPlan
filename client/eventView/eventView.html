<div ng-if="evtCtrl.currentEvent.name">
  <!-- CURRENT EVENT INFO -->

  <div class="event-info">
    <div class="event-details">
      <div class="event-left">
        <div class="event-name">
          {{evtCtrl.currentEvent.name}}
        </div>
        <div class="event-location">
          <i class="fa fa-map-marker"></i>
            {{evtCtrl.currentEvent.location}}
          <span class="location-time-space"></span>
            <i class="fa fa-calendar"></i>
            {{evtCtrl.currentEvent.date | date:'mediumDate'}}
          <span class="location-time-space"></span>
            <i class="fa fa-clock-o"></i>
            {{evtCtrl.currentEvent.time | date:'shortTime'}}
          <span class="event-right">
            <span ng-if="!evtCtrl.currentEvent.cutoff">
              <span>
                <input type="datetime-local" ng-model="evtCtrl.timerInfo" class="timer-date">
              </span>
                <button class="vote-timer" ng-click="evtCtrl.createTimer(evtCtrl.timerInfo)">Create a Vote Timer</button>
            </span>
            <span ng-if="evtCtrl.currentEvent.cutoff">
              Vote Cutoff: {{evtCtrl.currentEvent.cutoff | date: 'mediumDate'}} @ {{evtCtrl.currentEvent.cutoff | date: 'shortTime'}}
            </span>
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="event-container">
      <!-- ADD PLACE FORM -->
    <div class="container-padding">
      <!-- CHECK IF VOTING IS NOT DONE! -->
<!--      <div ng-hide="evtCtrl.cutVoting"> -->
      <form name="placeForm" ng-submit="evtCtrl.searchYelp(placeForm.$valid)" novalidate>
        <input type="text" class="input-add-place" ng-model="evtCtrl.placeName" placeholder="+ add a place"/>
      </form>
      <!-- END ADD PLACE FORM -->

      <!-- LIST OF CHOICES -->
      <div ng-if="evtCtrl.choices[0]">
        <div class="yelp-div">
           <div ng-repeat="choice in evtCtrl.choices">
            <button class="yelp-results" ng-click="evtCtrl.postPlace(choice)">
              <ul class="yelp-float-left">
                <B>{{choice.name}}</B><BR>
                {{choice.location.display_address[0]}}
                {{choice.location.display_address[1]}}
              </ul>
              <ul class="yelp-float-right">
                <span><img ng-src="{{choice.rating_img_url}}"></span>
              </ul>
             </button>
          </div>
        </div>
      </div>
      <!-- END LIST OF CHOICES -->

      <!-- LIST OF ADDED PLACES -->
      <div>
        <div id="{{place.id}}" ng-repeat="place in evtCtrl.currentEvent.places | orderBy: '-votes'">
          <div class="places-choices">
          <!-- ng-repeat on event's places -->
            <span ng-click="evtCtrl.showPlace(place)">{{place.name}}</span>
              <button class="upvote-button" ng-click="evtCtrl.upVote(place)">
              <i ng-class="{'fa fa-thumbs-o-down': evtCtrl.toggle[place.id], 'fa fa-thumbs-o-up': !evtCtrl.toggle[place.id]}"></i>
                {{place.votes}}
              </button>
          </div>
          <div class="place-container card" ng-show="evtCtrl.hidePlace" ng-if="evtCtrl.selectedAddress === place.address">
            <div class="place-left card-content">
              <div>
                <a href="{{place.url}}"><img src="https://maps.googleapis.com/maps/api/staticmap?center={{place.location}}&zoom=15&size=275x95&maptype=roadmap&markers={{place.location}}&key=AIzaSyA1TtnBWhqQjlyyBzDT4vQ28ddmfeRxboA" class="map-padding"></a>
              </div>
            </div>
            <div class="card-content place-right">
              <p class="split-para">
                {{place.name}} 
                  <span>
                    <img class="rating" ng-src="{{evtCtrl.selectedRating}}">
                  </span><BR>
                {{evtCtrl.selectedAddress}} 
                  <span>{{place.category}}</span>
              </p>
                <div class="snippet">
                  " {{place.snippet}} "
                </div>
            </div>
          </div>
        </div>
      <!-- END LIST OF PLACES -->
      </div>
<!--     </div> -->
    <!-- END container-padding -->
    </div>

    <div ng-if="!evtCtrl.cutVoting">
      <div class="container-padding">
        <div class="winner-details">
          Voting is over!
        </div>
        <div class="winner-headline">
          The Winner Is...
        </div>
      </div>
    </div>
  </div>
  <!-- END event-container -->

<!-- right side of the page !-->
<div class="right-side">
  <div class="email-container">
    <div class="container-padding">
      <div class="email-header">Invite Friends</div>
      <form name="emailForm" ng-submit="evntCtrl.sendMail()" novalidate>
        <input ng-model="evtCtrl.to" class="email-to" placeholder="Email To" >
        <textarea ng-model="evtCtrl.message" class="email-message" placeholder="Message"></textarea>
        <button class="email-button" ng-click="evtCtrl.sendMail()">Send Email</button>
      </form>
    </div>
  </div>

  <div class="attendee-container">
    <div class="container-padding">
      <div class="attend-title">Invited</div>
      <center>
        <div class="attend-divider"></div>
        <ul>
        <li class="invited-text" ng-repeat="guest in evtCtrl.currentEvent.guests">{{guest.email}}</li>
        </ul>
      </center>
    </div>
  </div>
</div>
</div>
